<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Anagram Scramble</title>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
<div id="settingsDrawer" class="drawer">
  <button id="drawerToggleBtn" class="icon drawer-toggle">Menu</button>
  <div class="drawer-content">
    <h3>Game Controls</h3>
    <button id="skipBtnDrawer" class="icon">Skip</button>
    <button id="shuffleBtnDrawer" class="icon">Shuffle</button>
    <button id="hintBtnDrawer" class="icon">Hint</button>
    <span class="badge" id="hintStatusDrawer">Hints left: 0</span>
  </div>
  <div class="drawer-footer"><a href="../index.html"><button class="icon" style="width: 100%; justify-content: flex-start;">&#127968; Home</button></a></div>
</div>
<div class="container">
  <div class="toolbar">
    <div>
      <a href="../index.html"><button class="icon">Home</button></a>
    </div>
    <div class="badge"><span class="score" id="score">0</span> / <span id="total">0</span> solved</div>
    <div class="badge" id="timer"></div>
  </div>
  <div class="card"><div class="card-body">
    <h2 id="prompt">Unscramble the letters:</h2>
    <div id="scrambled" style="font-size:32px;font-weight:800;letter-spacing:4px;margin:12px 0">LOADING...</div>
    <input id="answer" type="text" placeholder="Type the word..." autocomplete="off" autofocus>
    <div class="btns" style="margin-top:12px">
      <button id="checkBtn" class="primary">Check</button>
      <button id="skipBtn">Skip</button>
      <button id="shuffleBtn">Shuffle</button>
      <button id="hintBtn">Hint</button>
    </div>
    <div class="small" id="feedback"></div>
  </div></div>
</div>
<script src="anagram.js" type="module" defer></script>
<script>
// Drawer logic (modeled after crossword.html)
const drawerToggleBtn = document.getElementById("drawerToggleBtn");
const settingsDrawer = document.getElementById("settingsDrawer");
const skipBtnDrawer = document.getElementById("skipBtnDrawer");
const shuffleBtnDrawer = document.getElementById("shuffleBtnDrawer");
const hintBtnDrawer = document.getElementById("hintBtnDrawer");
const hintStatusDrawer = document.getElementById("hintStatusDrawer");

if (drawerToggleBtn && settingsDrawer) {
  drawerToggleBtn.addEventListener('click', () => {
    settingsDrawer.classList.toggle('open');
  });
}
// Forward drawer controls to main controls
if (skipBtnDrawer) skipBtnDrawer.onclick = () => document.getElementById('skipBtn').click();
if (shuffleBtnDrawer) shuffleBtnDrawer.onclick = () => document.getElementById('shuffleBtn').click();
if (hintBtnDrawer) hintBtnDrawer.onclick = () => document.getElementById('hintBtn').click();

// Update hint status in drawer when main updates
const origUpdateHintButton = window.updateHintButton;
window.updateHintButton = function() {
  if (typeof origUpdateHintButton === 'function') origUpdateHintButton();
  const hintBtn = document.getElementById('hintBtn');
  const hintsText = hintBtn ? hintBtn.textContent : '';
  if (hintBtnDrawer) hintBtnDrawer.disabled = hintBtn ? hintBtn.disabled : false;
  if (hintStatusDrawer) hintStatusDrawer.textContent = hintsText ? hintsText.replace('Hint', 'Hints left:') : '';
};
</script>
</body>
</html>
